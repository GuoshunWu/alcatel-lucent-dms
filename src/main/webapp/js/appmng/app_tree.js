// Generated by CoffeeScript 1.3.3
(function() {
  var _this = this;

  $.getJSON(URL.navigateTree, {}, function(treeInfo) {
    var _this = this;
    $.jstree._themes = "css/jstree/themes/";
    return ($("#" + ids.navigateTree).jstree({
      json_data: {
        data: treeInfo
      },
      ui: {
        select_limit: 1
      },
      themes: {},
      core: {},
      plugins: ["themes", "json_data", "ui", "core"]
    })).bind("select_node.jstree", function(event, node) {
      var appTree, nodeInfo;
      appTree = $.jstree._reference("#" + ids.navigateTree);
      nodeInfo = {
        text: appTree.get_text(node.rslt.obj),
        parent: appTree._get_parent(node.rslt.obj),
        id: node.rslt.obj.attr("id")
      };
      if (-1 === nodeInfo.parent) {
        exports.product_panel.refresh(nodeInfo);
        return exports.layout.showCenterPanel(ids.panel.product);
      } else {
        exports.application_panel.refresh(nodeInfo);
        return exports.layout.showCenterPanel(ids.panel.application);
      }
    });
  });

  $("#" + ids.button.new_product).button().click(function(e) {
    return $("#" + ids.dialog.new_product).dialog("open");
  });

}).call(this);
