// Generated by CoffeeScript 1.3.3
(function() {
  var module_ids;

  module_ids = {
    productName: '#productName',
    product_duplication: '#dupVersion'
  };

  $("#" + ids.dialog.new_product).dialog({
    autoOpen: false,
    height: 200,
    width: 400,
    modal: true,
    buttons: {
      'OK': function() {
        var _this = this;
        $.post(URL.create_product, {
          name: $(module_ids.productName).val()
        }, function(json) {
          if (json.status !== 0) {
            $.msgBox(json.message, null, {
              title: 'Error',
              width: 300,
              height: 'auto'
            });
            return;
          }
          return $("#" + ids.navigateTree).jstree("create_node", -1, "last", {
            data: $(module_ids.productName).val(),
            attr: {
              id: json.id
            }
          });
        });
        return $(this).dialog("close");
      },
      'Cancel': function() {
        return $(this).dialog("close");
      }
    }
  });

  $("#" + ids.dialog.new_product_release).dialog({
    autoOpen: false,
    height: 200,
    width: 500,
    modal: true,
    buttons: {
      'OK': function() {
        alert('OK');
        return $(this).dialog("close");
      },
      'Cancel': function() {
        alert('Cancel');
        return $(this).dialog("close");
      }
    },
    open: function(event, ui) {
      console.log($(exports.product_panel.select_product_version_id)[0]);
      $(module_ids.product_duplication).append(new Option('', -1));
      return $(exports.product_panel.select_product_version_id).children('option').clone(true).appendTo($(module_ids.product_duplication));
    }
  });

  $("#" + ids.dialog.new_or_add_application).dialog({
    autoOpen: false
  });

}).call(this);
